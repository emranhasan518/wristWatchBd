!function(e,t){for(var r in t)e[r]=t[r];t.__esModule&&Object.defineProperty(e,"__esModule",{value:!0})}(window,function(){"use strict";var e={939:function(e,t,r){r.r(t),r.d(t,{PAv2:function(){return je}});var n={prebid_version:"4.10",prebid_url:"https://cdn.projectagora-adtag-library.com/prebid/latest/prebid.js"},a={env:"prod",adServer_host:"ads.projectagoraservices.com"};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var c=setTimeout;function s(e){return Boolean(e&&void 0!==e.length)}function u(){}function l(e){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function f(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,l._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(e){return void p(t.promise,e)}d(t.promise,n)}else(1===e._state?d:p)(t.promise,e._value)}))):e._deferreds.push(t)}function d(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"===o(t)||"function"==typeof t)){var r=t.then;if(t instanceof l)return e._state=3,e._value=t,void b(e);if("function"==typeof r)return void h((n=r,a=t,function(){n.apply(a,arguments)}),e)}e._state=1,e._value=t,b(e)}catch(t){p(e,t)}var n,a}function p(e,t){e._state=2,e._value=t,b(e)}function b(e){2===e._state&&0===e._deferreds.length&&l._immediateFn((function(){e._handled||l._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)f(e,e._deferreds[t]);e._deferreds=null}function g(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function h(e,t){var r=!1;try{e((function(e){r||(r=!0,d(t,e))}),(function(e){r||(r=!0,p(t,e))}))}catch(e){if(r)return;r=!0,p(t,e)}}l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){var r=new this.constructor(u);return f(this,new g(e,t,r)),r},l.prototype.finally=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))},l.all=function(e){return new l((function(t,r){if(!s(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var a=n.length;function i(e,c){try{if(c&&("object"===o(c)||"function"==typeof c)){var s=c.then;if("function"==typeof s)return void s.call(c,(function(t){i(e,t)}),r)}n[e]=c,0==--a&&t(n)}catch(e){r(e)}}for(var c=0;c<n.length;c++)i(c,n[c])}))},l.allSettled=function(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(i(e)+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var a=n.length;function o(e,r){if(r&&("object"===i(r)||"function"==typeof r)){var c=r.then;if("function"==typeof c)return void c.call(r,(function(t){o(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--a&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--a&&t(n)}for(var c=0;c<n.length;c++)o(c,n[c])}))},l.resolve=function(e){return e&&"object"===o(e)&&e.constructor===l?e:new l((function(t){t(e)}))},l.reject=function(e){return new l((function(t,r){r(e)}))},l.race=function(e){return new l((function(t,r){if(!s(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,a=e.length;n<a;n++)l.resolve(e[n]).then(t,r)}))},l._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){c(e,0)},l._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var m=l,y=function(e){var t=e.split(","),r=[];return t.forEach((function(e){r.push(e.split("x").map((function(e){return Number(e)})))})),r};function v(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"$&");var r=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);if(!r)return null;if(!r[2])return"";try{return decodeURIComponent(r[2].replace(/\+/g," "))}catch(e){return null}}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var T=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"appnexus",params:O(O({},this.bidderParams),{},{usePaymentRule:!0})}}}])&&j(t.prototype,r),e}();function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var I=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"adform",params:_({},this.bidderParams)}}}])&&E(t.prototype,r),e}();function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var C=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getParamValueString",value:function(e){return"".concat(this.bidderParams[e])}},{key:"getConfig",value:function(){var e={organizationId:"1069",site:this.getParamValueString("site"),adUnitElementId:this.getParamValueString("adUnitElementId"),placement:this.getParamValueString("placement"),environment:this.getParamValueString("environment")};return this.bidderParams.hasOwnProperty("pagetype")&&""!==this.bidderParams.pagetype&&(e.pagetype=this.getParamValueString("pagetype")),this.bidderParams.hasOwnProperty("category")&&""!==this.bidderParams.category&&(e.category=this.getParamValueString("category")),{bidder:"adagio",params:e}}}])&&A(t.prototype,r),e}();function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var z=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"criteo",params:U({},this.bidderParams)}}}])&&N(t.prototype,r),e}();function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"emx_digital",params:B({},this.bidderParams)}}}])&&V(t.prototype,r),e}();function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var L=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"ix",params:{siteId:this.bidderParams.siteId,size:this.bidderParams.size.split("x").map((function(e){return Number(e)}))}}}}])&&J(t.prototype,r),e}();function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Q=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"connectad",params:$({},this.bidderParams)}}}])&&G(t.prototype,r),e}();function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var H=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){var e={publisherId:"156400",adSlot:this.bidderParams.adSlot};return this.bidderParams.kadpageurl&&(e.kadpageurl=this.adTagParams.referrerUrl),{bidder:"pubmatic",params:e}}}])&&Z(t.prototype,r),e}();function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var K=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getParamValueString",value:function(e){return"".concat(this.bidderParams[e])}},{key:"getConfig",value:function(){var e="http://prg.smartadserver.com";return this.bidderParams.hasOwnProperty("isSecure")&&this.bidderParams.isSecure&&(e="https://prg.smartadserver.com"),{bidder:"smartadserver",params:{domain:e,siteId:this.getParamValueString("siteId"),pageId:this.getParamValueString("pageId"),formatId:this.getParamValueString("formatId")}}}}])&&Y(t.prototype,r),e}();function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ee=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getParamValueString",value:function(e){return"".concat(this.bidderParams[e])}},{key:"getConfig",value:function(){var e={accountId:this.getParamValueString("accountId"),siteId:this.getParamValueString("siteId"),zoneId:this.getParamValueString("zoneId")};return this.bidderParams.referrer&&(e.referrer=this.adTagParams.referrerUrl),this.bidderParams.sizes&&(e.sizes=[],e.sizes.push(parseInt(this.bidderParams.sizes))),{bidder:"rubicon",params:e}}}])&&X(t.prototype,r),e}();function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){ne(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ne(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ie=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"sovrn",params:re({},this.bidderParams)}}}])&&ae(t.prototype,r),e}();function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var le=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"triplelift",params:ce({},this.bidderParams)}}}])&&ue(t.prototype,r),e}();function fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ge={appnexus:T,adform:I,adagio:C,criteo:z,emx_digital:F,ix:L,connectad:Q,pubmatic:H,smart:K,rubicon:ee,sovrn:ie,openx:function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bidderParams=t,this.adTagParams=r}var t,r;return t=e,(r=[{key:"getConfig",value:function(){return{bidder:"openx",params:de(de({},this.bidderParams),{},{delDomain:"projectagora-d.openx.net"})}}}])&&be(t.prototype,r),e}(),triplelift:le};function he(e,t,r){var n={};switch(n.eventName=e,e){case"auctionInit":n.properties={auctionStartedAt:r.timestamp,auctionId:r.auctionId};break;case"auctionEnd":n.properties={auctionEndedAt:r.auctionEnd,auctionId:r.auctionId};break;case"requestBids":n.properties={};break;case"bidTimeout":var a=r.filter((function(e){return"appnexus"==e.bidder}));a.length&&(n.properties={xandrTimedOut:!0,auctionId:a[0].auctionId});break;case"auctionDebug":"ERROR"===r.type&&(n.eventName="adTagError",n.properties={errCode:4,errMsg:r.arguments[0]})}t.push(["track",n])}function me(e){projectAgoraPbjs.que.push(e)}function ye(e,t,r){e.setAttribute("width",t),e.setAttribute("height",r)}function ve(e){return{asi:"projectagora.com",sid:(e&&e.hasOwnProperty("paSellerId")&&e.paSellerId?e.paSellerId:1e5).toString(),hp:1}}function Pe(e){if(e.length<3)return!1;var t={asi:null,sid:null,hp:null};return!!new RegExp("^((?!://)([a-zA-Z0-9-_]+.)*[a-zA-Z0-9][a-zA-Z0-9-_]+.[a-zA-Z]{2,11}?)$").test(e[0])&&(t.asi=e[0],0!==e[1].trim().length&&(t.sid=decodeURIComponent(e[1]),"1"===e[2]&&(t.hp=parseInt(e[2]),e[3]&&""!==e[3]&&(t.rid=decodeURIComponent(e[3])),e[4]&&""!==e[4]&&(t.name=decodeURIComponent(e[4])),e[5]&&""!==e[5]&&(t.domain=decodeURIComponent(e[5])),e[6]&&""!==e[6]&&(t.ext=e[6]),t)))}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function we(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var je=function(){function e(t){var r,i,o,c=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("Failed to initialize a PAv2 ad. Configuration missing");if(this.config=t,this.adTagId=t.paid,this.analytics=t.analytics,this.adTagScriptTag=t.currentScript||function(e,t){if(!e)return null;for(var r=document.getElementsByTagName("script"),n=t.adServer_host+"/?id="+e,a=r.length,i=0;i<a;i++)if(-1!==r[i].src.indexOf(n)&&!r[i].classList.contains("pa-adtag")){r[i].classList.add("pa-adtag");break}return r[i]}(this.adTagId,a),!this.adTagScriptTag)throw this.analytics.push(["track",{eventName:"adTagError",properties:{errCode:1}}]),new Error("Failed to initialiaze a PAv2 ad. CurrentScript is missing from config");this.paPrebidUrl=n.prebid_url,this.placement_name=t.placement_name,this.placement_an_id=t.anid;try{if(this._id=(new Date).getTime(),this._placementIframeId="postbid_if_".concat(this._id),this.adUnitIframe=(r=this._placementIframeId,(i=document.createElement("iframe")).setAttribute("id",r),i.frameBorder="0",i.scrolling="no",i.marginWidth="0",i.marginHeight="0",i.TOPMARGIN="0",i.LEFTMARGIN="0",i.ALLOWTRANSPARENCY="true",i.width="0",i.height="0",i),!this.adTagScriptTag)return!1;this.adTagScriptTag.parentNode.insertBefore(this.adUnitIframe,this.adTagScriptTag),this.adTagQs="?"+this.adTagScriptTag.src.replace(/^[^\?]+\??/,""),this.adTagReferrerUrl=v("uref",this.adTagQs),this.adTagPASco=t.placement_site_info[0].sco,this.adTagPartnerSco=v("schain",this.adTagQs),this.adUnitSCO=function(e,t){var r,n={},a=[],i=(r=e)&&r.hasOwnProperty("paOwns")&&r.hasOwnProperty("paSellerId")?r.paOwns:null;if(n.ver="1.0",null===i&&null===t||null!==i&&"Owned & Operated"===i)a.push(ve(e)),n.complete=1;else if(null===i&&null!==t||null!==i&&"Operated Only"===i){var o;!1===(o=function(e){if(null===e)return!1;var t={},r=e.split("!");if(r.length<=1)return!1;var n,a=r[0].split(",");if(""===a[0]||(n=a[0],!/^-?[\d]*(\.[\d]+)$/g.test(n)))return!1;if(t.version=a[0],-1===["1","0"].indexOf(a[1]))return!1;t.complete=parseInt(a[1]),t.partners=[];for(var i=r.length,o=1;o<i;o++){var c=Pe(r[o].split(","));if(!1===c)return!1;t.partners.push(c)}return t}(t))?(a.push(ve(e)),n.complete=0):((a=a.concat(o.partners)).push(ve(e)),n.complete=o.complete)}return n.nodes=a,n}(this.adTagPASco,this.adTagPartnerSco),this.adUnitTimeOut=t.hbConf.timeout,this.adUnitCodeName="".concat(this.placement_an_id,"_").concat(this.placement_name),this.size=y(t.size),this.promoSizes=t.promoSizes?y(t.promoSizes):[],this.adUnitSizes=function(e){if(Array.isArray(e))return Oe(e)}(o=this.size)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||function(e,t){if(e){if("string"==typeof e)return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Oe(e,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.promoSizes.forEach((function(e){c.adUnitSizes.push(e)}))}catch(e){this.analytics.push(["track",{eventName:"adTagError",properties:{errCode:0,errMsg:e.message}}]),console.error(e)}var s={referrerUrl:this.adTagReferrerUrl,adTagId:this.adTagId};try{this.adUnitBidders=function(e,t){var r=[];return e.forEach((function(e){var n=function(e,t,r){return new ge[e](t,r).getConfig()}(e.type,JSON.parse(e.params),t);r.push(n)})),r}(this.config.hbConf.bidders,s)}catch(e){this.analytics.push(["track",{eventName:"adTagError",properties:{errCode:5}}]),console.error(e)}}var t,r;return t=e,(r=[{key:"display",value:function(){var e,t=this,r=window.projectAgoraPbjs&&window.projectAgoraPbjs.hasOwnProperty("libloaded")&&window.projectAgoraPbjs.libloaded?window.projectAgoraPbjs:null;r?(console.log("AdTag Id ".concat(this.adTagId," Use existing Prebid")),this.prebidWrapper=r,this.servePlacement()):(console.log("AdTag Id ".concat(this.adTagId," Loading Prebid")),(e=this.paPrebidUrl,new m((function(t,r){var n=document.createElement("script");n.setAttribute("src",e),n.onload=function(){t()},n.onerror=function(){r()};var a=document.getElementsByTagName("head")[0];a.insertBefore(n,a.firstChild)}))).then((function(){console.log("AdTag Id ".concat(t.adTagId," loaded Prebid")),t.servePlacement()})).catch((function(){t.analytics.push(["track",{eventName:"adTagError",properties:{errCode:3}}]),console.log("failed to load pa prebid. no continue")})))}},{key:"servePlacement",value:function(){try{this.adUnit=(e=this.adUnitCodeName,t=this.adUnitSizes,r=this.adUnitBidders,i=JSON.stringify(t),{code:e,mediaTypes:{banner:{sizes:JSON.parse(i)}},bids:r}),me.bind(this,function(e,t,r,n,a,i,o,c,s){for(var u=this,l={AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_TIMEOUT:"bidTimeout",REQUEST_BIDS:"requestBids",AUCTION_DEBUG:"auctionDebug"},f=0,d=Object.keys(l);f<d.length;f++){var p=d[f];projectAgoraPbjs.onEvent(l[p],he.bind(this,l[p],s))}var b=null;if("3.25"===t.prebid_version)b={cmpApi:"iab",timeout:8e3,allowAuctionWithoutConsent:!0};else{var g=function(){for(var e,t,r=window,n=0;!e;){try{if("function"==typeof r.__tcfapi||"function"==typeof r.__cmp){"function"==typeof r.__tcfapi?(n=2,t=r.__tcfapi):(n=1,t=r.__cmp),e=r;break}}catch(e){}try{if(r.frames.__tcfapiLocator){n=2,e=r;break}}catch(e){}try{if(r.frames.__cmpLocator){n=1,e=r;break}}catch(e){}if(r===window.top)break;r=r.parent}return{cmpFrame:e,cmpFunction:t,cmpVersion:n}}(),h=g.cmpFrame,m=(g.cmpFunction,g.cmpVersion);h&&(1===m?b={gdpr:{cmpApi:"iab",timeout:8e3,allowAuctionWithoutConsent:!0}}:2===m&&(b={gdpr:{cmpApi:"iab",timeout:8e3,defaultGdprScope:!0}}))}b&&projectAgoraPbjs.setConfig({consentManagement:b}),projectAgoraPbjs.setConfig({schain:{validation:"strict",config:{ver:o.ver,complete:o.complete,nodes:o.nodes}}}),projectAgoraPbjs.enableAnalytics({provider:"adomik",options:{id:"projectagora-483829",url:"projectagora-483829-hdb.adomik.com"}}),1===projectAgoraPbjs.adUnits.filter((function(e){return e.code===n.code})).length&&projectAgoraPbjs.removeAdUnit(n.code),projectAgoraPbjs.addAdUnits(n),projectAgoraPbjs.requestBids({adUnitCodes:[n.code],timeout:i,bidsBackHandler:function(t,i,o){console.log("received bids back handler for adTagId: ".concat(e," with auction: ").concat(o));var s={id:e.toString()},l=a.contentWindow.document,f=projectAgoraPbjs.getAdserverTargetingForAdUnitCode(n.code);if(f&&f.hb_adid)s.adTagHB=!0,window.postMessage(JSON.stringify(s),"*"),projectAgoraPbjs.renderAd(l,f.hb_adid);else{var d,p=n.mediaTypes.banner.sizes[0][0],b=n.mediaTypes.banner.sizes[0][1],g=null!==c.psbk.match(/https:\/\/securepubads.g.doubleclick.net\/tag\/js\/gpt.js/);try{d=function(e,t,r,n,a){var i=r.psbk,o={type:r.adxPsbkType,data:r.hasOwnProperty("adxPsbkData")&&r.adxPsbkData?r.adxPsbkData:null,frame_id:t,adTag_id:e.toString()};if(o&&"no_psbk"!==o.type&&!n){var c="stage"===a.env?"staging":"libs";i="<script> var adxPsbk = ".concat(JSON.stringify(o),'<\/script><script src="https://projectagoralibs.com/').concat(c,'/pa_backupads_lib.js"><\/script> ').concat(i)}return i}(e,a.id,c,g,r)}catch(e){u.analytics.push(["track",{eventName:"adTagError",properties:{errCode:6}}]),console.error(e)}d?(s.adTagPassback=!0,s.tagType=g?"gpt":"adx",window.postMessage(JSON.stringify(s),"*"),g?function(e,t,r,n,a){var i=t.contentWindow,o=t.contentDocument,c=null;i.googletag=i.googletag||{cmd:[]},i.googletag.cmd.push((function(){i.googletag.pubads().addEventListener("slotRenderEnded",(function(s){if(c={id:e.toString(),served:!s.isEmpty},window.postMessage(JSON.stringify(c),"*"),!0===s.isEmpty){var u=t&&r.hasOwnProperty("adxPsbkData")&&!!r.adxPsbkData;switch(r.adxPsbkType){case"collapse":i.parent.document.getElementById("viewability-expansion-display")&&(i.parent.document.getElementById("viewability-expansion-display").style.display="none"),t&&(t.style.display="none");var l={id:e.toString(),onPsbkCollapse:!0,frame:t.id};window.parent.postMessage(JSON.stringify(l),"*");break;case"no psbk":i.parent.document.getElementById("viewability-expansion-display")&&(i.parent.document.getElementById("viewability-expansion-display").style.display="none"),t&&(t.style.display="none");break;case"link":u&&(ye(t,n,a),i.location=r.adxPsbkData);break;case"code":u&&(ye(t,n,a),o.open(),o.write(decodeURI(r.adxPsbkData)),o.close())}}else{var f=s.size[0],d=s.size[1];ye(t,f,d)}}))}))}(e,a,c,p,b):(a.setAttribute("width",p),a.setAttribute("height",b)),l.write(d),l.close()):(s.adTagNoPsbkSet=!0,window.postMessage(JSON.stringify(s),"*"),a&&a.parentNode.removeChild(a))}}})}(this.adTagId,n,a,this.adUnit,this.adUnitIframe,this.adUnitTimeOut,this.adUnitSCO,this.config.hbConf,this.analytics))}catch(e){this.analytics.push(["track",{eventName:"adTagError",properties:{errCode:0,errMsg:e.message}}]),console.error(e)}var e,t,r,i}}])&&we(t.prototype,r),e}()}},t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}return r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(939)}());